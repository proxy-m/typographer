<!DOCTYPE html>
<html>
<head>
 <meta charset="utf-8">
 <title>Typographer: Convert Spaces to nbsp</title>
 <script type="text/javascript">
     let fileDisplayArea = null;
     let pauseR = false;
     
     let whiteListWords = [].concat( // unimplemented
        // 'aboard about above across after against along amid among anti around as at before behind below beneath beside besides between beyond but by concerning considering despite down during except excepting excluding following for from in inside into like minus near of off on onto opposite outside over past per plus regarding round save since than through to toward towards under underneath unlike until up upon versus via with within without'.split(' '),
        // ['concerning', 'considering', 'excepting', 'excluding', 'following', 'opposite', 'regarding', 'underneath', 'nevertheless'], // >= 8
        // ['against', 'beneath', 'besides', 'between', 'despite', 'outside', 'through', 'towards', 'whereas', 'without', 'whether', 'neither'], // 7
        // ['aboard', 'across', 'around', 'before', 'behind', 'beside', 'beyond', 'during', 'except', 'inside', 'toward',  'either', 'unlike', 'unless', 'versus', 'within'], // 6
        // ['about', 'above', 'after', 'along', 'among', 'below', 'minus', 'round', 'since', 'under', 'until', 'while'], // 5
        // ['amid', 'anti', 'down', 'from', 'into', 'like', 'near', 'onto', 'over', 'only', 'past', 'plus', 'save' 'upon', 'with', 'that', 'than', 'then', 'also', 'till'], // 4
        // ['but', 'for', 'off', 'per', 'via', 'yet', 'not', 'how', 'nor', 'and'], // 3
        // ['as', 'at', 'an', 'by', 'in', 'of', 'on', 'to', 'up', 'if', 'as', 'or'], // 2
        // ['a']
     );
     
     let blackListWords = [].concat(
        '–∞–¥ –∞–∂ –∞–∑ –∞–∏ –∞–π –∞–Ω –∞—Ä –∞—Å –µ–∂ –µ—Ä –∏–ª –∫–∞ –ª–∏ –º–º –æ–º —Å–µ —É–¥ —É–∂ —É–∫ —É–º —É—Å —Ü–µ —á–µ —â–∞ —â–∏ —ç–º —ç—Ä —ç—Ñ —ç—Ö —é–≥ —é–∑ —é—Ä —é—Å —é—Ç —è–¥ —è–∑ —è–∫ —è–ª —è–º —è—Ä —è—Å'.split(' '), // –°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ 2
        '–∞–±–∞ –∞–±—ã –∞–≥–∞ –∞–≥—É –∞–∑—É –∞–∑—ã –∞–∏–ª –∞–∏—Ä –∞–∫—Ä –∞–∫—Ç –∞–ª–∏ –∞–ª—å –∞–Ω—Ç –∞—Ä–∞ –∞—Å—Å –∞—Ç—É –∞—É–ª –∞—É—Ç –∞—Ö–∏ –±–∞–∑ –±–∞–π –±–∞–∫ –±–∞–ª –±–∞—Ä –±–∞—Å –±–∞—Ö –±–∞—à –±–µ–≥ –±–µ–π –±–µ–∫ –±–µ–ª –±–µ—Å –±–∏—Ç –±–∏—á –±–æ–± –±–æ–≥ –±–æ–π –±–æ–∫ –±–æ–Ω –±–æ—Ä –±–æ—Ç –±–æ—à –±—É–∂ –±—É–π –±—É–∫ –±—É–º –±—É—Ä –±—É—Ç –±—É—Ö –±—ã–∫ –±—ã—Ç –±—ç—Ä –≤–∞–∂ –≤–∞–ª –≤–∞—Ä –≤–µ–∫ –≤–µ—Å –≤–∏–≥ –≤–∏–¥ –≤–∏—Ä –≤–∏—Å –≤–æ–¥ –≤–æ–∑ –≤–æ–π –≤–æ–ª –≤–æ–Ω –≤–æ—Ä –≤—É–∑ –≤—à–∞ –≤—ã—è –≤—è–∑ –≥–∞–¥ –≥–∞–∑ –≥–∞–π –≥–∞–∫ –≥–∞–º –≥–µ–π –≥–µ–Ω –≥–∏–¥ –≥–∏–∫ –≥–∏—Ç –≥–æ–¥ –≥–æ–π –≥–æ–ª –≥–æ–Ω –≥–æ—Ç –≥—É–¥ –≥—É–∂ –≥—É–∫ –≥—É–ª –¥–∞—Ä –¥–µ–¥ –¥–µ–∫ –¥–µ—Ä –¥–∏–≤ –¥–Ω–æ –¥–æ–≥ –¥–æ–∂ -–¥–µ -–∫–∞'.split(' '), // –°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ 3
        '–¥–æ–∫ –¥–æ–ª –¥–æ–º –¥–æ–Ω –¥–æ—Ç –¥—É–± –¥—É—Ö –¥—É—à –¥—ã–º –µ–¥–∞ –µ–∂–∞ –µ–ª—å –µ—Ä–∞ –µ—Ä—à –µ—Ä—ã –µ—Ä—å –∂–∞—Ä –∂–∏–¥ –∂–∏–º –∂–∏—Ä –∂–æ–∫ –∂–æ–º –∂–æ—Ä –∂–æ—Ö –∂—É–∫ –∑–∞–≤ –∑–∞–¥ –∑–∞–ª –∑–∞–º –∑–≥–∏ –∑–µ–≤ –∑–µ—Ç –∑–∏–≥ –∑–ª–æ –∑–æ–± –∑–æ–≤ –∑—É–± –∑—É–¥ –∑—É–π –∑—ã–∫ –∏–≤–∞ –∏–≥–æ –∏–¥—ã –∏–∫—Å –∏–º—è –∏–Ω–∫ –∏–æ–ª –∏–æ–Ω –∏—Å–∫ –π–æ–≥ –π–æ–¥ –π–æ—Ç –∫–∞–ª –∫–∞–ø –∫–∞—Ç –∫–µ–± –∫–µ–¥ –∫–∏–π –∫–∏–∫ –∫–∏–ª –∫–∏—Ç –∫–æ–¥ –∫–æ–∫ –∫–æ–ª –∫–æ–º –∫–æ–Ω –∫–æ—Ç –∫–æ—à –∫—É–± –∫—É–º –∫—É–Ω –∫—É—Ä –∫—É—Å –∫—É—Ç –∫—É—à –ª–∞–≥ –ª–∞–¥ –ª–∞–∂ –ª–∞–∑ –ª–∞–π –ª–∞–∫ –ª–∞–ª –ª–∞–Ω –ª–∞—Ä –ª–µ–≤ –ª–µ–¥ –ª–µ–∏ –ª–µ–π –ª–µ–∫ –ª–µ–Ω –ª–µ—Å –ª–µ—Ç –ª–µ—â –ª–µ—è –ª–∏–∫ –ª–∏—Å –ª–∏—Ñ –ª–æ–± –ª–æ–≤ –ª–æ–≥ –ª–æ–º –ª–æ—Ç –ª–æ—Ö –ª—É–± –ª—É–≥ –ª—É–∫ –ª—É—á –ª—é–± –ª—é–¥ –ª—é–∫ –ª—è–¥ –ª—è—Ö –º–∞–≥ –º–∞–∑ –º–∞–π –º–∞–∫ –º–∞—Ç –º–∞—Ö –º–≥–∞ –º–µ–¥ –º–µ–∂ –º–µ–ª –º–µ—Ö –º–µ—á –º–∏–≥ –º–∏–º –º–∏—Ä –º–∏—Ñ –º–æ–ª –º–æ—Ä –º–æ—Ç –º–æ—Ö –º—É–∂ –º—É–ª –º—ã—Å –º—ã—Ç –º—ç—Ä –º—è—á –Ω–∞—Ä –Ω–µ—Ñ –Ω–∏–∑ –Ω–æ–∂ –Ω–æ–∫ –Ω–æ–º –Ω–æ—Å –Ω—É—Ç –Ω—ç–ø –Ω—é—Ö –æ–¥–∞ –æ–¥—Ä –æ–∫–æ –æ–ø—Ç –æ—Ä—Å –æ—Ä—Ç –æ—Å–∞ –æ—Å—Ç –æ—Å—å –æ—Ö–∏ –æ—á–∏ –ø–∞–∂ –ø–∞–∑ –ø–∞–π –ø–∞–∫ –ø–∞–ª –ø–∞–Ω –ø–∞—Ä –ø–∞—Å –ø–∞—Ç –ø–∞—Ö –ø–µ–∫ –ø–µ—Å –ø–∏–∫ –ø–∏–º –ø–∏—Ä –ø–æ–ª –ø–æ–ø –ø–æ—Ç –ø—Ä–∏ –ø—Ä—è –ø—É–¥ –ø—É–∫ –ø—É–ª –ø—É–ø –ø—É—Ñ –ø—É—Ö –ø—ã–∂ –ø—ã–ª –ø—ç—Ä —Ä–∞–± —Ä–∞–¥ —Ä–∞–∂ —Ä–∞–∑ —Ä–∞–π —Ä–∞–∫ —Ä–µ–≤ —Ä–µ–∑ —Ä–µ–π —Ä–µ—è —Ä–∂–∞ —Ä–∏—Å —Ä–∏—Ñ —Ä–æ–≤ —Ä–æ–≥ —Ä–æ–¥ —Ä–æ–π —Ä–æ–∫ —Ä–æ–ª —Ä–æ–º —Ä–æ—Ç —Ä—ã–∫ —Ä—ã–º —Ä—é—à —Ä—è–¥ —Ä—è–∂ —Å–∞–¥ —Å–∞–∂ —Å–∞–∑ —Å–∞–∫ —Å–∞–Ω —Å–∞–ø —Å–µ–≤ —Å–µ–º —Å–µ—Ç —Å–∏–≥ —Å–∏–ø —Å–æ–∫ —Å–æ–º —Å–æ–Ω —Å–æ—Ä —Å–æ—Ç —Å–æ—è —Å—É–¥ —Å—É–∫ —Å—É–ø —Å—ã–Ω —Å—ã—Ä —Å—ã—á —Å—ç—Ä —Ç–∞–∑ —Ç–∞–∏ —Ç–∞–ª —Ç–∞—Ç —Ç–µ–º —Ç–µ—Å —Ç–∏–∫ —Ç–∏–ø —Ç–∏—Ä —Ç–∏—Å —Ç–∏—Ñ —Ç–ª—è —Ç–æ–π —Ç–æ–∫ —Ç–æ–ª —Ç–æ–º —Ç–æ–Ω —Ç–æ–ø —Ç–æ—Ä —Ç—É–∑ —Ç—É–∫ —Ç—É–Ω —Ç—É—Ä —Ç—É—Ç —Ç—É—Ñ —Ç—É—à —Ç—É—è —Ç—ã–ª —Ç—ã–Ω —Ç—é–∫ —Ç—è–∂ —É–≤—ã —É–¥–∞ —É–∂–µ —É–∑–∞ —É–∑—ã —É–Ω—Ç —É—Å—ã —É—Ö–∞ —É—Ö–æ —É—à–∏ —É—é—Ç —Ñ–∞–≥ —Ñ–∞–π —Ñ–∞–ª —Ñ–∞—Å —Ñ–∞—Ç —Ñ–µ–Ω —Ñ–µ—Å —Ñ–µ—è —Ñ–æ–∫ —Ñ–æ–ª —Ñ–æ–Ω —Ñ–æ—Ç —Ñ—Ä–∏ —Ñ—Ä—è —Ñ—É–∫ —Ñ—É—Ç —Ö–∞–∑ —Ö–∞–π —Ö–∞–º —Ö–∞–Ω —Ö–µ–∫ —Ö–µ—Ä —Ö–Ω–∞ —Ö–Ω—ã —Ö–æ–¥ —Ö–æ–Ω —Ö–æ—Ä —Ö—É–∫ —Ü–µ–∂ —Ü–µ–ø —Ü–µ—Ö —Ü—É–≥ —Ü—É–∫ —á–∞–¥ —á–∞–π —á–∞–ª —á–∞–Ω —á–∞—Å —á–µ–∫ —á–µ—Å —á–µ—Ç —á–µ—Ö —á–∏–∂ —á–∏–π —á–∏–∫ —á–∏–Ω —á–∏—Ö —á–æ–Ω —á–æ—Ö —á—É–± —á—É–º —à–∞–≥ —à–∞—Ä —à–∞—Ö —à–µ–¥ —à–µ—Ñ —à–µ—è —à–∏–∫ —à–∏–ø —à–∏—à —à–æ–≤ —à–æ–∫ —à—É–º —à—É—Ç —â–∏–ø —â–∏—Ç —â—É–ø —â—É—Ä —ç–ª—å —ç–º—É —ç—Ä–∞ —ç—Ä–≥ —ç—Ä–µ —ç—Ä–ª —ç—Å—Ç —ç—Ñ–∞ —ç—Ö–æ —é–∏—Ç —é–ª–∞ —é—Ä–∞ —é—Ä—Ç —è–≤—å —è–≥–∞ —è–∑—å —è–º–∞ —è–º–± —è—Ä–¥ —è—Ä–ª —è—Ä—å —è—Ç—å'.split(' '), // –°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ 4
        '–±–∞–π –±–µ–π –±–∏—Ç –≤–∏—Å –≤–æ–π –≤—à–∞ –≤—è–∑ –≥–Ω—É –¥–ª—è –µ–∂–∞ –∑—Ä—è –ª–∞–π –ª–µ–π –º–µ–ª –º–æ–π –º—ã—Ç –ø–∞–ª –ø–∞—Å –ø–∞—Ö –ø–µ–∫ –ø—Ä–∏ –ø—É—Ö —Ä–µ–π —Ä–µ—è —Ä–∂–∞ —Ä–æ–π —Å–µ–≤ —Å–µ–π —Å–∏–ø —Å—è–∫ —Ç–∞–∏ —Ç–ª—è —Ç—Ä–∏ —Ö–∞–π —á–∞–π'.split(' '), // –ì–ª–∞–≥–æ–ª—ã 5
        '–±–µ–ª –±–∏—Ç –±—É—Ä –≥–æ–ª –∑–ª–æ –ª–µ–≤ –º—ã—Ç –ø–∞–ª –ø–æ–ª —Ä–∞–∂ —Å—ã—Ä —Ç–∞–ª —É–∂–µ —á–∞–ª'.split(' '), // –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ
        '—è —Ç—ã –æ–Ω –æ–Ω–æ –æ–Ω–∞ –º—ã –≤—ã –æ–Ω–∏'.split(' '), // –õ–∏—á–Ω—ã–µ –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è
        '—Å–µ–±—è —Å–µ–±–µ —Å–æ–±–æ–π —Å–æ–±–æ—é'.split(' '), // –í–æ–∑–≤—Ä–∞—Ç–Ω–æ–µ
        '–º–æ–π —Ç–≤–æ–π –≤–∞—à –Ω–∞—à —Å–≤–æ–π –µ–≥–æ –µ–µ –∏—Ö'.split(' '), // –ü—Ä–∏—Ç—è–∂–∞—Ç–µ–ª—å–Ω—ã–µ
        '—Ç–æ —ç—Ç–æ —Ç–æ—Ç —ç—Ç–æ—Ç —Ç–∞–∫–æ–π —Ç–∞–∫–æ–≤ —Å—Ç–æ–ª—å–∫–æ'.split(' '), // –£–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–µ
        '–≤–µ—Å—å –≤—Å—è–∫–∏–π —Å–∞–º —Å–∞–º—ã–π –∫–∞–∂–¥—ã–π –ª—é–±–æ–π –∏–Ω–æ–π –¥—Ä—É–≥–æ–π'.split(' '), // –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–µ
        '–∫—Ç–æ —á—Ç–æ –∫–∞–∫–æ–π –∫–∞–∫–æ–≤ —á–µ–π —Å–∫–æ–ª—å–∫–æ'.split(' '), // –í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏ –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ
        '–Ω–∏–∫—Ç–æ –Ω–∏—á—Ç–æ –Ω–µ–∫–æ–≥–æ –Ω–µ—á–µ–≥–æ –Ω–∏–∫–∞–∫–æ–π –Ω–∏—á–µ–π –Ω–∏—Å–∫–æ–ª—å–∫–æ'.split(' '), // –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ
        '–∫—Ç–æ-—Ç–æ –∫–æ–µ-–∫—Ç–æ –∫—Ç–æ-–Ω–∏–±—É–¥—å –∫—Ç–æ-–ª–∏–±–æ —á—Ç–æ-—Ç–æ –∫–æ–µ-—á—Ç–æ —á—Ç–æ-–Ω–∏–±—É–¥—å —á—Ç–æ-–ª–∏–±–æ –∫–∞–∫–æ–π-—Ç–æ –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –Ω–µ–∫—Ç–æ –Ω–µ—á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –Ω–µ–∫–∏–π'.split(' '), // –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ
        '–º–Ω–µ —Ç–µ–±–µ –Ω–µ–º –Ω—ë–º –Ω–µ–π –Ω–∞—Å –≤–∞—Å –Ω–∏—Ö'.split(' '),
        '–º–µ–Ω—è —Ç–µ–±—è –µ–≥–æ –µ—ë –µ–≥–æ –Ω–µ–≥–æ –Ω–µ—ë –Ω–µ–µ –Ω–µ–≥–æ –Ω–∞—Å –≤–∞—Å –∏—Ö –Ω–∏—Ö'.split(' '),
        '–º–Ω–µ —Ç–µ–±–µ –µ–º—É –Ω–µ–º—É –µ–π –Ω–µ–π –Ω–∞–º –≤–∞–º –∏–º'.split(' '),
        '–º–Ω–æ–π –º–Ω–æ—é —Ç–æ–±–æ–π —Ç–æ–±–æ—é'.split(' '),
        '–∏–º –Ω–∏–º –µ—é –Ω–µ—é –Ω–∞–º–∏ –≤–∞–º–∏ –∏–º–∏ –Ω–∏–º–∏'.split(' '),
        '–º–æ–µ —Ç–≤–æ–µ –Ω–∞—à–µ –≤–∞—à–µ —Å–≤–æ–µ'.split(' '),
        '–º–æ—è —Ç–≤–æ—è –Ω–∞—à–∞ –≤–∞—à–∞ —Å–≤–æ—è'.split(' '),
        '–º–æ–∏ —Ç–≤–æ–∏ –Ω–∞—à–∏ –≤–∞—à–∏ —Å–≤–æ–∏'.split(' '),
        '–º–æ–µ–≥–æ —Ç–≤–æ–µ–≥–æ –Ω–∞—à–µ–≥–æ –≤–∞—à–µ–≥–æ —Å–≤–æ–µ–≥–æ –º–æ–µ–π —Ç–≤–æ–µ–π –Ω–∞—à–µ–π –≤–∞—à–µ–π —Å–≤–æ–µ–π –º–æ–∏—Ö —Ç–≤–æ–∏—Ö –Ω–∞—à–∏—Ö –≤–∞—à–∏—Ö —Å–≤–æ–∏—Ö'.split(' '),
        '–º–æ–µ–º—É —Ç–≤–æ–µ–º—É –Ω–∞—à–µ–º—É –≤–∞—à–µ–º—É —Å–≤–æ–µ–º—É –º–æ–µ–π —Ç–≤–æ–µ–π –Ω–∞—à–µ–π –≤–∞—à–µ–π —Å–≤–æ–µ–π –º–æ–∏–º —Ç–≤–æ–∏–º –Ω–∞—à–∏–º –≤–∞—à–∏–º —Å–≤–æ–∏–º'.split(' '),
        '–º–æ–∏–º —Ç–≤–æ–∏–º –Ω–∞—à–∏–º –≤–∞—à–∏–º —Å–≤–æ–∏–º –º–æ–µ–π —Ç–≤–æ–µ–π –Ω–∞—à–µ–π –≤–∞—à–µ–π —Å–≤–æ–µ–π –º–æ–∏–º–∏ —Ç–≤–æ–∏–º–∏ –Ω–∞—à–∏–º–∏ –≤–∞—à–∏–º–∏ —Å–≤–æ–∏–º–∏'.split(' '),
        '–º–æ–µ–º —Ç–≤–æ–µ–º –Ω–∞—à–µ–º –≤–∞—à–µ–º —Å–≤–æ–µ–º –º–æ–µ–π —Ç–≤–æ–µ–π –Ω–∞—à–µ–π –≤–∞—à–µ–π —Å–≤–æ–µ–π –º–æ–∏—Ö —Ç–≤–æ–∏—Ö –Ω–∞—à–∏—Ö –≤–∞—à–∏—Ö —Å–≤–æ–∏—Ö'.split(' '),
        '—á–µ–π –∫–∞–∫–æ–π –∫–æ—Ç–æ—Ä—ã–π —á—å–µ –∫–∞–∫–æ–µ –∫–æ—Ç–æ—Ä–æ–µ —á—å—è –∫–∞–∫–∞—è –∫–æ—Ç–æ—Ä–∞—è —á—å–∏ –∫–∞–∫–∏–µ –∫–æ—Ç–æ—Ä—ã–µ –∫—Ç–æ —á—Ç–æ —Å–∫–æ–ª—å–∫–æ'.split(' '),
        '—á—å–µ–≥–æ –∫–∞–∫–æ–≥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ —á—å–µ–π –∫–∞–∫–æ–π –∫–æ—Ç–æ—Ä–æ–π —á—å–∏—Ö –∫–∞–∫–∏—Ö –∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–≥–æ —á–µ–≥–æ —Å–∫–æ–ª—å–∫–∏—Ö'.split(' '),
        '—á—å–µ–º—É —á—å—ë–º—É –∫–∞–∫–æ–º—É –∫–æ—Ç–æ—Ä–æ–º—É —á—å–µ–π –∫–∞–∫–æ–π –∫–æ—Ç–æ—Ä–æ–π —á—å–∏–º –∫–∞–∫–∏–º –∫–æ—Ç–æ—Ä—ã–º –∫–æ–º—É —á–µ–º—É —Å–∫–æ–ª—å–∫–∏–º'.split(' '),
        '–∫–∞–∫–∏–º –∫–æ—Ç–æ—Ä—ã–º —á—å–µ–π –∫–∞–∫–æ–π –∫–æ—Ç–æ—Ä–æ–π —á—å–∏–º–∏ –∫–∞–∫–∏–º–∏ –∫–æ—Ç–æ—Ä—ã–º–∏ –∫–µ–º —á–µ–º —Å–∫–æ–ª—å–∫–∏–º–∏'.split(' '),
        '—á—å–µ–º —á—å—ë–º –∫–∞–∫–æ–º –∫–æ—Ç–æ—Ä–æ–º —á—å–µ–π –∫–∞–∫–æ–π –∫–æ—Ç–æ—Ä–æ–π —á—å–∏—Ö¬†–∫–∞–∫–∏—Ö –∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º¬†—á–µ–º —á—ë–º —Å–∫–æ–ª—å–∫–∏—Ö'.split(' '),
        '–∫–æ–µ-–∫—Ç–æ –∫—Ç–æ-–ª–∏–±–æ –∫–æ–µ-—á—Ç–æ —á—Ç–æ-—Ç–æ –∫—Ç–æ-–Ω–∏–±—É–¥—å —á—Ç–æ-–Ω–∏–±—É–¥—å'.split(' '),
        '–∫–æ–≥–æ –∫–æ–≥–æ-–ª–∏–±–æ –∫–æ–µ-—á–µ–≥–æ —á–µ–≥–æ-—Ç–æ –∫–æ–≥–æ-–Ω–∏–±—É–¥—å —á–µ–≥–æ-–Ω–∏–±—É–¥—å'.split(' '),
        '–∫–æ–µ-–∫–æ–º—É –∫–æ–º—É-–ª–∏–±–æ –∫–æ–µ-—á–µ–º—É —á–µ–º—É-—Ç–æ –∫–æ–º—É-–Ω–∏–±—É–¥—å —á–µ–º—É-–Ω–∏–±—É–¥—å'.split(' '),
        '–∫–æ–µ-–∫–æ–≥–æ –∫–æ–≥–æ-–ª–∏–±–æ –∫–æ–µ-—á—Ç–æ —á—Ç–æ-—Ç–æ —á—Ç–æ-–ª–∏–±–æ —á–µ–≥–æ-–ª–∏–±–æ –∫–æ–≥–æ-–Ω–∏–±—É–¥—å —á–µ–≥–æ-–Ω–∏–±—É–¥—å'.split(' '),
        '–∫–µ–º –∫–µ–º-–ª–∏–±–æ —á–µ–º —á–µ–º-—Ç–æ —á–µ–º-–ª–∏–±–æ –∫–µ–º-–Ω–∏–±—É–¥—å —á–µ–º-–Ω–∏–±—É–¥—å'.split(' '),
        '–∫–æ–º –∫–æ–º-–ª–∏–±–æ –∫–æ–µ —á–µ–º —á–µ–º-—Ç–æ —á—ë–º —á—ë–º-—Ç–æ'.split(' '),
        '–≤–µ—Å—å —Å–∞–º –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –≤—Å–µ —Å–∞–º–æ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –≤—Å—è —Å–∞–º–∞ –ª—é–±–∞—è –¥—Ä—É–≥–∞—è –≤—Å–µ —Å–∞–º–∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ'.split(' '),
        '—ç—Ç–æ—Ç —Ç–æ—Ç —Ç–∞–∫–æ–π —Ç–∞–∫–æ–≤ —ç—Ç–æ —Ç–æ —Ç–∞–∫–æ–µ —Ç–∞–∫–æ–≤–æ —ç—Ç–∞ —Ç–∞ —Ç–∞–∫–∞—è —Ç–∞–∫–æ–≤–∞ —ç—Ç–∏ —Ç–µ —Ç–∞–∫–∏–µ —Ç–∞–∫–æ–≤—ã —Å–≤–æ–∏ —Å—Ç–æ–ª—å–∫–æ'.split(' '),
        '-- ++ && || ( ) [ ] < > { } . , : ; ! ?'.split(' '),
        'that which who whose whom where when this that these those who what why where when whatever anything anybody anyone something somebody someone nothing nobody none one'.split(' '), // pronones 0
        'i you he she it its we they me him her us them you mine ours yours hers his theirs my our your her his their myself yourself herself himself itself ourselves yourselves themselves all another any anybody anyone anything both each either everybody everyone everything few many most neither nobody none nothing one other others several some somebody someone something such that these this those thou thee thy thine ye what whatever which whichever who whoever whom whomever whose'.split(' '), // pronones 1
        'be am is are was been were being do does did done go goes went gone gone can could have has had may might up ta pi ok ip id od lu ko ba ax'.split(' '), // modal 2
        'make made lose lost mean meant see saw seen say said come came know knew known get got gotten gets give gave given become became find found think thought abide abode abided alight alit alighted arise arose arisen awake awoke awoken bear bore born borne bears beat beaten beats begin began begun begins bend bent bet bid bade bidden bids bind bound binds bite bit bitten build built builds burn burnt burned burns buy bought buys catch caught come came comes cost costs cut cuts drink drank drunk catches choose chose chosen eat ate eaten eats fall fell fallen falls fight fought fights hide hid hidden hides keep kept keeps put puts run ran runs write wrote written writes fly flew flown flies'.split(' '), // irregular 3
        'ab ax ad ai al aa ar ac ay au ba bm cm cl cc cv cd do db dc dj dl dm dg en el er ew eq ev ey fa ft fm fo go gm gp hi he hm ho hr hg hl id iv io iq jo ko ki km kg kc kw kt kb kv lb lp lx lm lu mi mo ma mm mu me mg ml ms mv md nu nm ng nb ox os ok op od oo pa pi pe pm pr ps pc ph qi re rn rv ra sr te tb tv up ut ur uv vd wo xi xc xu yu ys za'.split(' '), // Nouns 2
        'act aid ask ape all age alp ace are ail asp ale ark ash auk aim arm ant awe ado add air arc awl alb awn art axe amp avo ani aba ala adz aga bot bed boy bar bye bun bug bay bad boa bee baa bit ban box bus beg bin buy bey big bud bog bag bet bob bib bum bat bid bur bow bod biz boo con cox cat cay cop cup cab caw cud coo cow cot cue can car cry cur col cap cub cut cad cam cod cob cog chi cos cum cwm cps cwt cal cor cit cid dew duo dad den dry dip die dye dig due dag dab dun doe dug dam dog day din don dub dot dud deb doc daw dak dal dit das doh dol dah dox dis del ebb era eon eve eye emu ewe elk ell eel erg elm egg end elf ego ear eta eld eft ern est ens eke esp emf ers eme erf een edh ekg ewt erm ecg eos fur far few fig fog fez fun fox fad fop fey fan fib fen fry fly fit fag fat fay fix fin fir fob fee foe flu fax fug fet faq fid foy fra fub gut gob gen get gad god gig gag gay gem gap gum gar gnu gyp guy gab gin gee gas git gun gel gym goo gal gip gib gat goy gam goa gie gue ged gps hip hat ham haw hop hie hue hap hag hen hug hod hit hoe hew hog hem hep hay hum hut hub hob haj hex hin hun hoy hao hyp hye hah hiv hmo hud ism ice ink ilk ill inn ion ire ivy imp ick iou irs ing ide ira icu ied ipo inc ind ile irp jet jut jot joy jab jag jug jaw jib jay job jig jar jam jog jak jap jew jnd joe jin jan jeg jah jub kit keg key kid kin kip ken kob kat kea kor khi kos kph ket kex kaw kam khz kra kan lid lot lea leg lie lye lop lip lap lug lob lat law lag lam let lac lux lee lax loo lab lay log lad low lav lox led lit lei ley lek lev lah leu mat map mid mar may mud mow mot mum man mop men mag mew mob moo mug mix mac maw mad max meg mod mom mil moa mho mem mol mam med mus min mph mun now nip nab nut nob nub nit nil nib nag net nay nap nun nod nix neb nog nim nan noy nef nep nye nom nur ney nup oat orb ore ode old ohm owl oil obi oaf oak oar one olm oca oka orc ola oes orf ort ora ord oke oss oad ost oul oby ojo olf ook ork pic pud pro pun pal pig pox par pan pap pin pad pip pod pay pas pot pen pug poi pet pie pit pix pyx paw pus pee ply pew pry pat pea put peg pop qat qed que rum rib rim row rag rye rap rod rat roe rue rub rob rig ram ray run rot red rep rut raw rug rip rem rho rad ref rev roc rya res ran rpm raj rex sot say sol sen sea sou sip sap sew sod sum sex six sob sty spy sis saw sow sub sag sin set shy spa sac sax see sop ski sky son sup sir soy sun tit toy tat tar tie tot tip tin tub tan tee tow tun tax tag try ton tab tic tau tap tug tor toe top two ten tea tut tom tad tux tam tum taw tod use urn ump ufo uke ure uva ule url van vim vat vie vow var veg vet vox vas vig vhf vlf vis vip voe vcr vdu vae vap wet war wig win wag wan wax web wed won why wit wee way wad woe wog wok wop wen wow wiz wye waw wpm wap wae wem wey www wex wmd wah xor xat xer xuv yea yap yew yak yen yam yaw yin yes yid yip yob yug yle yux zoo zip zed zit zap zig zax zee zag zep zea zif'.split(' '), // Nouns 3
        'act aid ask ape age ace ail ash aim arm awe add air arc apt art axe aah adz aby ake bed boy bar bug bay baa bit ban box bus beg bin buy big bud bog bag bet bob bib bum bat bid bur bow boo bop bam bub buz con cox cat cop cup cab caw coo cow cue can cry cap cub cut coy cod cob cog cun dew dim den dry dip die dye dig due dag dab dun dam dog din don dub dot daw dit dox dis dod dap dup dib dop dor dow ebb err eye egg end eat elf ear eff eld ern ere eke eek ean fur fig fog fun fox fey fan fib fry fly fit fag fat fay fix fin fob fee foe fax fed fum fet ftp fub gut gob gen get gad god gig gag gem gap gum gar gyp guy gab gin gee gas gun gel gip gib gat gam gie gan gye gyn hip hat ham haw hop hie hue hap hag hug hot hit hoe hew hog hem hay hum hob hex han hyp hye hox ice ink irk inn imp ick jet jut jot joy jab jag jug jaw jib job jig jar jam jog jew jee kit key kid kip ken kon kaw kep kan lot leg lie lop lip lap lug lob lat law lag lam let lux lee lax loo lab lay log low lit ley lib lin lig lol mat map mar may mud mow mot man mop mew mob moo mug mix mad mux moe mue nip nab nut nub nil nib nag net new nay nap nod nix nog nim noy orb out owe owl oil own oar one opt ooh ope oop orn pun pal pig pox par pan pap pin pad pip pod pay pot pen pug pet pie pit pix pyx paw pee ply pew pry pat put peg pop pup pep pur pue rib rim row rag rap rat rue rub rob rig ram ray run rot red rut rug rid rip rev ret ren rud ree sot say sic sue sip sap sew sod sum sex sob sty spy saw sow sly sub sag sin set shy see sop ski sky sup sad sun sit sig sle toy tat tar tie tot tip tin tub tan tee tow tun tax tag try tap tug toe top tea tut tog taw tod tup tsk ted tye tew tas tol use urn ure vex van vat vie vow vet wet war wig win wag wry wan wax web wed won wit wee way wad woo wow was wap wis wem wey wex wol yap yew yak yen yaw yip yex yot yox yux zip zap'.split(' '), // Verbs 3
     );
     
  function displayFile () {
   var fileInput = document.getElementById('fileInput');
   fileDisplayArea = document.getElementById('fileDisplayArea');

   var file = fileInput.files[0];
   var reader = new FileReader();

   reader.onload = function(e) {
       fileDisplayArea.innerHTML = '';
       fileDisplayArea.value = e.target.result;
       
       fileInput.value = fileInput.defaultValue;
       convertSpaces();
   }

   reader.readAsText(file);
  }

  function convertSpaces () {
      if (pauseR) {
          return;
      }
   fileDisplayArea = document.getElementById('fileDisplayArea');
   var text = fileDisplayArea.value;
   
   if (!text || !text.trim || !text.trim().length) {
       console.warn('No input text!');
       return;
   }
   
   var textArr = (text.trim().replaceAll('\t', '    ').replaceAll('\r', '\n').replaceAll('\n', ' \n ').replaceAll('&amp;', '&').replaceAll('&nbsp;', ' ').replaceAll('<br>', '\n').replaceAll('<br/>', '\n').replaceAll('<BR>', '\n').replaceAll('<BR/>', '\n')/*.replace(/ +/g, ' ')*/).split(' ');
   ///textArr = textArr.filter(function (e) { return !!e; });
   
   //console.log(textArr);
   
   let wasLineBreak = false;
   var textNewArr;
   textNewArr = textArr.map(function (e, i) {
       if (!e || !e.trim || !e.trim().length || e.indexOf('\n') >= 0 || e.endsWith(',') || e.endsWith('.') || e.endsWith('!') || e.endsWith('?') || e.endsWith(':') || e.endsWith(';')) {
           wasLineBreak = true;
       } else {
           wasLineBreak = false;
       }
       if (!wasLineBreak && (e.length <= (document.getElementById('prepositionWorldLen').value || 3) && blackListWords.indexOf(e.toLowerCase()) < 0) && (''+e) != (''+(+e))) { // main condition
           e = e + '&nbsp;';
           //console.log(e);
       } else if (wasLineBreak && !!e && !!e.trim && e.length >= 2 && ' ' === e[e.length - 2] && (e.endsWith(',') || e.endsWith('.') || e.endsWith('!') || e.endsWith('?') || e.endsWith(':') || e.endsWith(';'))) {
           e = e.substring(0, e.length - 1) + '&nbsp;' + e.substring(e.length - 1);
       }
       return e;
   });
   
   //console.log('textNewArr: ', textNewArr);

   
   var convertedText = textNewArr.join(' ').replace(/ \n /g, '\n').replace(/[&][n][b][s][p][;][ ]/g, '&nbsp;');
   convertedText = convertedText.replaceAll('\n', !!document.getElementById('brInsteadN').checked ? '<br/>' : '\n');
   
   fileDisplayArea.innerHTML = '';
   fileDisplayArea.value = convertedText;
   
   displayAfterConvert();
   
   navigator.clipboard.writeText(convertedText);
   document.getElementById('fileDisplayArea').placeholder = 'RESULT ALREADY IN CLIPBOARD (BUFFERED)';
  }
  
  function displayAfterConvert () {
      if (pauseR) {
          return;
      }
      if (!!document.getElementById('output')) {
            document.getElementById('output').outerHTML = '';
      }
      
      
      
      document.body.insertAdjacentHTML('beforeend', '<div id="output" style="width: 50%; height: auto;">' + (document.getElementById('fileDisplayArea').value.replace(/[&][a][m][p][;][n][b][s][p][;]/g, '\u00A0').replaceAll('\u00A0', '&nbsp;').replaceAll('&nbsp;', '\u00A0').replaceAll('\n', '<br/>')) + '</div>');
      console.log(2);
  }
  
  function selectElementContents (el) {
        var range;
        if (window.getSelection && document.createRange) {
            range = document.createRange();
            var sel = window.getSelection();
            range.selectNodeContents(el);
            sel.removeAllRanges();
            sel.addRange(range);
        } else if (document.body && document.body.createTextRange) {
            range = document.body.createTextRange();
            range.moveToElementText(el);
            range.select();
        }
  }
  
  document.addEventListener('keydown', function (e) {
      if ((e.ctrlKey || e.metaKey) && (e.key === 'a' || e.key === 'A' || String.fromCharCode(e.which || e.keyCode).toLowerCase() === 'a')) {
          if (!e.target.placeholder) {
              return;
          }
          e.preventDefault();
          console.log('CTRL + A');
          e.target.select();  //selectElementContents(e.target);
          
          pauseR = true;
          
          //setTimeout(function () {
              
            var ke1 = document.createEvent("Events");
            ke1.initEvent("keydown", true, true);
            ke1.keyCode = ke1.which = 8; // Backspace
            e.target.dispatchEvent(ke1);

            var ke2 = document.createEvent("Events");
            ke2.initEvent("keyup", true, true);
            ke2.keyCode = ke2.which = 8; // Backspace
            e.target.dispatchEvent(ke2);
         //}, 5000);
      } else if (8 === +e.keyCode && pauseR) { // Backspace
          e.preventDefault();
          console.log(e.keyCode);
          
          pauseR = true;
          
          if (window.getSelection) {
              if (window.getSelection().toString() != '') {
                window.getSelection().deleteFromDocument();
                document.getElementById('fileDisplayArea').innerHTML = '';  document.getElementById('fileDisplayArea').value = '';
              }
              
              if (window.getSelection().empty) {  // Chrome
                window.getSelection().empty();
              } else if (window.getSelection().removeAllRanges) {  // Firefox
                window.getSelection().removeAllRanges();
              }
          } else if (document.selection) {  // IE?
              document.selection.deleteFromDocument(); //
              document.getElementById('fileDisplayArea').innerHTML = '';  document.getElementById('fileDisplayArea').value = '';
              
              document.selection.empty();
          }
                    
          document.getElementById('fileDisplayArea').blur();
          
          setTimeout(function() {
              fileDisplayArea = document.getElementById('fileDisplayArea');
              fileDisplayArea.parentElement.focus();
              fileDisplayArea.focus();
              pauseR = false;
          }, 10);
      }
      
      setTimeout(function() {
          pauseR = false;
      }, 20);
      
  });
  
  let wasStarted = false;
  setTimeout(function update () {
      if (wasStarted) {
          return;
      }
      wasStarted = true;
      try {
          convertSpaces();
      } catch (e) {
      } finally {
          wasStarted = false;
      }
  }, 100);
 </script>
</head>
<body>
 <h1 style="color: lightgrey;">Typographer: Convert Spaces to nbsp</h1>

 <input type="number" id="prepositionWorldLen" value="3" style="width: 30px;" onchange="document.getElementById('fileDisplayArea').innerHTML = '';  document.getElementById('fileDisplayArea').value = '';" />
 <label for="prepositionWorldLen" title="–î–ª–∏–Ω–∞ –ø—Ä–µ–¥–ª–æ–≥–∞ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è)">Preposition world length (maximum)</label>
 
 <input type="checkbox" id="brInsteadN" style="width: 30px;" onchange="convertSpaces();" />
 <label for="brInsteadN">Use html BR instead N (new line)</label>

 <input type="file" id="fileInput" onchange="displayFile()" style="display:none;">
 <label for="fileInput" style="cursor: pointer;"><h3>üìÅ [Press here]‚ñ≠ Open file or paste text</h3></label>
 

<!-- –£ –ª–µ—Å–∞ –Ω–∞ –æ–ø—É—à–∫–µ –∂–∏–ª–∞ –ó–∏–º–∞ –≤ –∏–∑–±—É—à–∫–µ.	–û–Ω–∞ —Å–Ω–µ–∂–∫–∏ —Å–æ–ª–∏–ª–∞ –≤ –±–µ—Ä–µ–∑–æ–≤–æ–π –∫–∞–¥—É—à–∫–µ,	–û–Ω–∞ —Å—É—á–∏–ª–∞ –ø—Ä—è–∂—É, –æ–Ω–∞ —Ç–∫–∞–ª–∞ —Ö–æ–ª—Å—Ç—ã	–ö–æ–≤–∞–ª–∞ –ª–µ–¥—è–Ω—ã–µ –¥–∞ –Ω–∞–¥ —Ä–µ–∫–∞–º–∏ –º–æ—Å—Ç—ã.		–ü—Ä–∏–ø–µ–≤:	–ü–æ—Ç–æ–ª–æ–∫ –ª–µ–¥—è–Ω–æ–π, –¥–≤–µ—Ä—å —Å–∫—Ä–∏–ø—É—á–∞—è,	–ó–∞ —à–µ—Ä—à–∞–≤–æ–π —Å—Ç–µ–Ω–æ–π —Ç—å–º–∞ –∫–æ–ª—é—á–∞—è.	–ö–∞–∫ —à–∞–≥–Ω–µ—à—å –∑–∞ –ø–æ—Ä–æ–≥ - –≤—Å—é–¥—É –∏–Ω–µ–π,	–ê –∏–∑ –æ–∫–æ–Ω –ø–∞—Ä–æ–∫ —Å–∏–Ω–∏–π-—Å–∏–Ω–∏–π.		–•–æ–¥–∏–ª–∞ –Ω–∞ –æ—Ö–æ—Ç—É, –∫–æ–≤–∞–ª–∞ —Å–µ—Ä–µ–±—Ä–æ,	–°–∞–∂–∞–ª–∞ —Ç–æ–Ω–∫–∏–π –º–µ—Å—è—Ü –≤ —Ö—Ä—É—Å—Ç–∞–ª—å–Ω–æ–µ –≤–µ–¥—Ä–æ.	–î–µ—Ä–µ–≤—å—è–º —à—É–±—ã —à–∏–ª–∞, —Ç–æ—Ä–∏–ª–∞ —Å–∞–Ω–Ω—ã–π –ø—É—Ç—å,	–ê –ø–æ—Å–ª–µ –≤ –ª–µ—Å —Å–ø–µ—à–∏–ª–∞, —á—Ç–æ–± –≤ –∏–∑–±—É—à–∫–µ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å.		–ü—Ä–∏–ø–µ–≤:	–ü–æ—Ç–æ–ª–æ–∫ –ª–µ–¥—è–Ω–æ–π, –¥–≤–µ—Ä—å —Å–∫—Ä–∏–ø—É—á–∞—è,	–ó–∞ —à–µ—Ä—à–∞–≤–æ–π —Å—Ç–µ–Ω–æ–π —Ç—å–º–∞ –∫–æ–ª—é—á–∞—è.	–ö–∞–∫ —à–∞–≥–Ω–µ—à—å –∑–∞ –ø–æ—Ä–æ–≥ - –≤—Å—é–¥—É –∏–Ω–µ–π,	–ê –∏–∑ –æ–∫–æ–Ω –ø–∞—Ä–æ–∫ —Å–∏–Ω–∏–π-—Å–∏–Ω–∏–π. -->

 <textarea id="fileDisplayArea" autofocus placeholder="" rows="10" cols="50" onchange="convertSpaces();"></textarea>

 <button onclick="convertSpaces();">Convert and Copy</button>
 
 <div id="output" style="width: 50%; height: auto;"></div>

</body>
</html>
